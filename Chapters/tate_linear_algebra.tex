%!TEX root = ../main.tex
\chapter{Tate's Linear Algebra}\label{ch:tate-linear-algebra}
In this chapter we explore linear topologies in vector spaces in order to introduce Tate spaces and their structure. Tate spaces will be central in the definition of abstract residues in Chapter 2 and the study of algebraic curves in Chapter 3. We follow definitions in \cite{Chiral} closely but not religiously.
\section{Linear topologies}
Fix a ground field $k$. From now on, a vector space will always mean a $k$-vector space.
\begin{definition}\label{def:linear_topology}
A \textbf{linear topology} on a vector space $V$ is a separated (Hausdorff) topology invariant under translations that admits an open local base around zero of vector subspaces. A vector space equipped with a linear topology will be referred as \textbf{linearly topologized}.
\end{definition}
If we endow $k$ with the discrete topology then $V$ will become a topological vector space. From now on, endow $k$ with the discrete topology. \\
Linear topologies behave nicely under basic topological operations.
\begin{proposition}\label{prop:linear_topologies_properties}
Let $V$ be a linearly topologized vector space. Then
	\begin{enumerate}[label = (\alph*)]
		\item Any vector subspace of $V$ is linearly topologized under its subspace topology.
		\item If $W \subseteq V$ is a closed vector subspace then $V/W$ is linearly topologized under its quotient topology.
		\item If $\{V_{\alpha}\}_{\alpha}$ is a collection of linearly topologized vector spaces its product $\prod_{\alpha} V_{\alpha}$ and its direct sum $\bigoplus_{\alpha} V_{\alpha}$ is linearly topologized under its product topology.
		\item If $W$ is a vector subspace of $V$, then its topological closure $\overline{W}$ also is a vector subspace of $V$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	Since intersection of vector subspaces is a vector subspace, (a) follows intersecting the fundamental system of neighborhoods in $V$ by the vector subspace. For (b), let $\pi\colon V \to V/W$ be the quotient map. Since $\pi$ is open and surjective the image of a local base is a local base; moreover, the image of a vector subspace under $\pi$ is a vector subspace. In addition, since $W$ is closed then $V/W$ is Hausdorff.  Now, for (c) let $\{U_{\alpha, \beta}\}_{\beta}$ be a local base of zero in $V_{\alpha}$ of vector subspaces, the products $U_{\alpha_{1}, \beta_{1}} \times \ldots \times U_{\alpha_{n}, \beta_{n}} \times \prod_{\gamma} V_{\gamma}$, where $\gamma$ ranges over $\alpha \neq \alpha_{1}, \ldots, \alpha_{n}$, for any set $\{(\alpha_{1}, \beta_{1}, \ldots, \alpha_{n}, \beta_{n})\}$ form a fundamental system of neighborhoods around zero in $\prod_{\alpha} V_{\alpha}$ of open vector subspaces. Note that since $\bigoplus_{\alpha} V_{\alpha} \subseteq \prod_{\alpha} V_{\alpha}$ is a vector subspace (c) follows from (a). Finally, for (d), suppose $x,y\in \overline{W}$, then, for every open vector subspace $U$, $(x + U)\cap W \neq \emptyset$ and $(y + U)\cap W \neq \emptyset$, therefore for every $\alpha, \beta \in k$ we have $(\alpha x + U)\cap W \neq \emptyset$ and $(\beta y + U)\cap W \neq \emptyset$. Hence, $(\alpha x + \beta y + U)\cap W\neq \emptyset$ for every open vector subspace $U$ and every pair $\alpha, \beta\in k$. It follows (d).
\end{proof}
\begin{remark}\label{rem:limits-and-colimits-in-lintop-category}
	If we let $\mathsf{LinTop}_{k}$ denote the category of linearly topologized vector spaces over $k$ (where morphisms are given by continuous linear homomorphisms) the previous proposition implies existence of kernels and arbitrary products; whence, existence of limits.  
\end{remark}
Linear topologies are discrete over a finite dimensional vector space.
\begin{proposition}\label{prop:finite_dimensional_linear_topologies}
A finite dimensional linearly topologized vector space $V$ is discrete.
\end{proposition}
\begin{proof}
	Let $U$ be an open vector subspace and $0 \neq x \in U$, since $V$ is separated there exists an open vector subspace $U_{x}$ such that $x \not\in U_{x}$. Thus, $\dim U_{x} \cap U < \dim U$. Since $V$ is finite dimensional this process can be repeated only a finite amount of times; that is $\{0\}$ is open. It follows that $V$ is discrete.
\end{proof}
\subsection*{Commensurability}
We introduce a partial order in the set of vector subspaces of a vector space $V$.
\begin{definition}\label{def:commensurability}
	For vector subspaces $A$ and $B$ of a vector space $V$ we say that $A \prec B$ if the quotient $A/(A\cap B) \cong (A+B)/B$ is finite dimensional (or equivalently $A \subseteq B + W$ for some finite dimensional $W$). In addition, we say that $A$ and $B$ are \textbf{commensurable} (denoted $A \sim B$) if $A \prec B$ and $B \prec A$.
\end{definition}
Observe that $A \sim B$ if and only if $(A+B)/(A\cap B) \cong A/(A\cap B) \oplus B/(A \cap B)$ is finite dimensional. We will constantly refer to a vector space $V$ being finite dimensional as $V \sim 0$.
\begin{proposition}\label{prop:equivalence-relation}
	Let $V$ be a vector spaces and $A,B$ and $C$ be vector subspaces, then:
	\begin{enumerate}[label = (\alph*)]
		\item If $A \sim B$ and $B \sim C$ then
		\[
			\frac{A+B+C}{A \cap B \cap C} \sim 0
		\]
		\item If $A \prec B$ and $B \prec C$ then $A \prec C$. Moreover, commensurability is an equivalence relation.
	\end{enumerate}
\end{proposition}
\begin{proof}
	Consider the following exact sequences
	\[
		0 \to \frac{A\cap B}{A \cap B \cap C} \to \frac{B}{B \cap C}, 
	\]
	and,
	\[
		0 \to \frac{A\cap B}{A \cap B \cap C} \to \frac{A+B}{A \cap B \cap C}
		\to \frac{A+B}{A \cap B} \to 0
	\]
	induced by inclusions. The first inclusion plus the fact that $B \sim C$ imply that $(A\cap B)/(A \cap B \cap C)$ is finite dimensional. Now, since $A \sim B$ it follows that $(A+B)/(A \cap B)$ is finite dimensional. Hence, the second exact sequence concludes that $(A+B)/(A \cap B \cap C)$. A symmetrical argument shows that $(B+C)/(A \cap B \cap C) \sim 0$. These prove (a). For (b), the inclusion
	\[
		0 \to \frac{A+C}{A\cap C} \to \frac{A+B+C}{A \cap B \cap C}
	\]
	plus (a) implies transitivity. 
\end{proof}
Now, we state and prove some useful properties on the relation $\prec$.
\begin{lemma}\label{lemm:properties-order-well-behaved-under-operations}
\begin{enumerate}[label = (\alph*)]
	\item If $A \subseteq B$ then $A \prec B$.
	\item If $A \prec B$ then $f(A) \prec f(B)$ for any $k$-linear map $f$
	\item It holds that
	\[
		\sum_{i=1}^{m} A_{i} \prec \bigcap_{j=1}^{n} B_{j} \iff A_{i} \prec B_{j}\text{ for all } i \text{ and } j.
	\]
\end{enumerate}
\end{lemma}
\begin{proof}
	First, (a) is immediate from the definition of $\prec$. Second, for (b) the map $f$ factors as
	\[
		A/(A\cap B) \to f(A)/(f(A)\cap f(B)) \to 0
	\]
	Finally, for (c), if $\sum_{i=1}^{m} A_{i} \prec \bigcap_{j=1}^{n} B_{j}$ holds then by (a) above, for all $i$ and $j$ we have
	\[
		A_{i} \prec \sum_{i=1}^{m} A_{i} \prec \bigcap_{j=1}^{n} B_{j} \prec B_{j}
	\]
	On the other hand, if $A_{i} \prec B_{j}$ for all $i$ and $j$ then there exist finite dimensional subspaces $W_{ij}$ such that $A_{i} \subseteq B_{j} + W_{ij}$ for all $i$ and $j$. Therefore,
	\[
		\sum_{i=1}^{m} A_{i} \subseteq \bigcap_{j=1}^{n} B_{j} + \sum_{i=1}^{m} \sum_{j=1}^{n} W_{ij}.
	\]

\end{proof}
Next, we consider another useful lemma.
\begin{lemma}\label{lemm:commensurability-addition-and-intersection}
	Let $A,B,A',B'$ be vector subspaces of a vector space $V$ and suppose that $A \sim A'$ and $B \sim B'$. Then $A + B \sim A' + B'$ and $A \cap B \sim A' \cap B'$.
\end{lemma}
\begin{proof}
	The following exact sequence 
	\small
	\[
		0 \to \frac{A + A' + B + B'}{A\cap A'\cap B\cap B'} \to \frac{A + A'}{A \cap A'} \oplus \frac{B + B'}{B \cap B'} \to \frac{A + A' + B + B'}{(A\cap A') + (B\cap B')} \to 0
	\]
	\normalsize
	plus $A \sim A'$ and $B \sim B'$ imply that both spaces
	\[
		\frac{A + A' + B + B'}{A\cap A'\cap B\cap B'} \quad\text{and,}\quad
		 \frac{A + A' + B + B'}{(A\cap A') + (B\cap B')}
	\]	
	are finite dimensional. Since, $(A + A' + B + B')/(A+A')\cap(B+B')$ is a quotient of the second space and $((A \cap A') + (B \cap B'))/((A\cap A')\cap(B\cap B'))$ is a subspace of the first space we can conclude $A + B \sim A' + B'$ and $A \cap B \sim A' \cap B'$.
\end{proof}
If we consider the set of equivalence classes of $\sim$ on a vector space $V$ then $\prec$ is a partial order on it and by \cref{lemm:commensurability-addition-and-intersection} above it inherits operations $\cap$ and $+$.
\subsection*{Linear compactness}
\begin{definition}\label{def:linear_compactness}
	Let $V$ be a linearly topologized vector space. A closed subset $L \subseteq V$ is \textbf{linearly compact} (respectively \textbf{linearly cocompact}) if for every open vector subspace $U$ we have $L \prec U$ (respectively $V/(L+U) \sim 0$). 
\end{definition}
\begin{remark}\label{rem:lefschetz-linear-compactness}
	Linear compactness was introduced by S. Lefschetz in his influential \cite{Lefschetz-Alg-Top} using different terms. Namely, he defined a linearly topologized vector space $V$ to be linearly compact if for every collection of closed cosets $X_{\alpha}$; that is, $X_{\alpha} = W_{\alpha} + x_{\alpha}$ where $W_{\alpha}$ is a vector subspace of $V$ and $x_{\alpha}\in V$, having the finite intersection property follows that $\bigcap_{\alpha} X_{\alpha} \neq \emptyset$. In this terms, linear compactness feels like a natural generalization of compactness for linearly topologized vector spaces. We extend this discussion in \cref{rem:lef-vs-beilinson}.
\end{remark}
Linear compactness behaves just as compactness if one uses the correct words.
\begin{proposition}\label{prop:linear_compactness_properties}
	Let $V$ be a linearly compact vector space, then
	\begin{enumerate}[label = (\alph*)]
		\item If $A \subseteq V$ is a vector subspace such that for every open vector subspace $U$ of $V$ it holds $A \prec U$ then $\overline{A}$ is linearly compact.
		\item If $f\colon V \to W$ is a continuous linear homomorphism then $\overline{f(V)}$ is linearly compact.
		\item If $V$ is discrete then $V \sim 0$.
		\item Every closed vector subspace of $V$ is linearly compact.
		\item (Tychonov) If $\{V_{\alpha}\}_{\alpha}$ is a collection of linearly compact vector spaces then its product $\prod_{\alpha} V_{\alpha}$ and its direct sum $\bigoplus_{\alpha}V_{\alpha}$ are linearly compact.
	\end{enumerate}
\end{proposition}
\begin{proof}
	Let $U$ be any open vector subspace of $V$, then $A + U$ is closed, that is $A + U = \overline{A + U} \supseteq \overline{A} + U \supseteq A + U$, thus, $\overline{A} + U = A + U$. Since, $(A + U)/U \sim 0$ then $(\overline{A} + U)/U \sim 0$. We get (a). 

	For (b), since $f$ is a continuous linear map $V \prec f^{-1}(U)$ for all $U$ open vector subspace of $W$, hence by \cref{lemm:properties-order-well-behaved-under-operations} $f(V) \prec U$ for all open vector subspaces $U$ of $W$. By the previous observation and (a) we get (b). If $V$ is discrete, then $\{0\}$ is an open vector subspace of $E$, thus $V \prec U$, we get (c). 

	For (d), if $A \subseteq V$ is a closed vector subspace, and $V \prec U$ for all open vector subspaces $U$ by \cref{lemm:properties-order-well-behaved-under-operations} we get $A \prec U$. 

	Finally, for (d), it is enough proving for open vector subspaces $U = \prod_{\beta} U_{\beta} \times \prod_{\gamma} V_{\gamma}$ where $\beta$ ranges over a finite set, $\gamma$ ranges over $\alpha \neq \beta$ and $U_{\beta}$ is an open vector subspace of $V_{\beta}$. Then, the quotient
	\[
		\prod_{\alpha}V_{\alpha} / U \cong \prod_{\beta} V_{\beta}/U_{\beta}
	\]
	where $\cong$ is a topological and algebraic isomorphism. Since $V_{\alpha}$ is linearly compact for all $\alpha$ and $\beta$ ranges over a finite set we conclude that $\prod_{\alpha} V_{\alpha} / U$ is finite dimensional; therefore, $\prod_{\alpha} V_{\alpha}$ is linearly compact. The proof is analogous for $\bigoplus_{\alpha} V_{\alpha}$.
\end{proof} 
\subsection*{Completion}
\begin{definition}\label{def:net-in-a-topological-vector-space}
	Let $V$ be a linearly topologized vector space. Given a local base of open vector subspaces $\mathscr{U}$ we will say that a collection $(x_{U})_{U\in \mathscr{U}}$ is a \textbf{net indexed by} $\mathscr{U}$. We will say that $(x_{U})_{U\in \mathscr{U}}$ converges to $x$ if for any $U \in \mathscr{U}$ there exists a $W\in\mathscr{U}$ such that for every $U' \subseteq W$ and $U'\in\mathscr{U}$
	\[
		x_{U'} - x \in U.
	\]
\end{definition}
\begin{remark}\label{rem:nets}
	The previous definition can be generalized to an arbitrary topological space and nets indexed by any directed set. In our particular case, the directed set $\mathcal{D} = \mathscr{U}^{\text{op}}$.
\end{remark}
We now introduce Cauchy nets and completion.
\begin{definition}\label{def:cauchy-nets}
	A net $(x_{U})_{U \in \mathscr{U}}$ in a linearly topologized vector space indexed by an open local base $\mathscr{U}$ of open vector subspaces is said to be \textbf{Cauchy} if for every $U$ open vector subspace of zero there exists $W \in \mathscr{U}$ such that for every $U_{1},U_{2} \in \mathscr{U}$ and $U_{1}, U_{2}\subseteq U$ we have $x_{U_{1}} - x_{U_{2}} \in U$. 
\end{definition}

\begin{definition}\label{def:completion}
	If $V$ be a linearly topologized vector space, we say that $V$ is said to be \textbf{complete} if 
	\[
		V \cong \varprojlim_{U \in \mathscr{U}} V/U
	\]
	for an open local base of vector subspaces $\mathscr{U}$. We leave unproven that this definition is independent of the choice of $\mathscr{U}$. Details can be found in \textcolor{red}{include reference}. Moreover, $V$ is complete if and only if every Cauchy net is convergent. One can see this by identifying the inverse limit as a subspace of the product.
\end{definition}
\textcolor{red}{Complete this! (no pun intended) }
\section{Tate spaces}
\subsection*{Lattices}
\begin{definition}\label{def:c-lattice}
	If $V$ is a linearly topologized vector space we say that a \textbf{c-lattice} is an open linearly compact subspace of $V$, \textit{dually} a discrete linearly cocompact subspace is a \textbf{d-lattice}.
\end{definition}
First, we prove that existence of a c-lattice in a linearly topologized vector space is equivalent to existence of a d-lattice.
\begin{proposition}\label{prop:c-lattice-iff-d-lattice}
	A linearly topologized vector space $V$ has a c-lattice if and only if it has a d-lattice. 
\end{proposition}
\begin{proof}
	Suppose $L$ is a c-lattice in $V$, choose any direct complement $D$ of $L$, that is, $V = L \oplus D$. Since $L$ is open, then $D$ is discrete as $D\cap L = 0$, thus ${0}$ is open in $D$. Moreover, $D$ is closed as it is the fiber of $0$ under the projection $V \to L$ (which is continuous because $L$ is open). Finally, we check that $D$ is linearly cocompact: let $U$ be any open vector subspace of $V$, the composition $L \hookrightarrow V \twoheadrightarrow V/(D+U)$ induces a surjection 
	\[
		L/(L \cap U) \twoheadrightarrow V/(D+U)
	\]
	thus, since $\dim L / (L \cap U) < \infty$ we conclude $\dim V/(D+U) < \infty$. \\
	Now, suppose $D$ is a d-lattice. Thus, there exists an open vector subspace $U$ such that $U \cap D = 0$. This time, choose $L$ a direct complement for $D$ containing $U$. Then, the projection $V \to D$ is continuous because $U$ goes to zero. Therefore, $L$ is open. Now we check linear compactness. Let $U$ be any open vector subspace, the composition $V \twoheadrightarrow L \twoheadrightarrow L/(L \cap U)$ induces a surjection
	 \[
	 	V/(D + (L \cap U)) \twoheadrightarrow L/(L \cap U)
	 \]
	 since both $L$ and $U$ are open, also $L\cap U$, thus $\dim V/(D + (L \cap U)) < \infty$. It follows, $\dim L/(L \cap U) < \infty$ and $L$ linearly compact.  
\end{proof}
\begin{remark}\label{up-to-finite-dimension}
	Note that in the proof of \cref{prop:c-lattice-iff-d-lattice} it is not strictly necessary to choose a direct complement, one can choose a direct complement up to finite dimension; that is, $L + D \sim V$ and $L \cap D \sim 0$. 
\end{remark}
We now give a characterization of lattices in terms of $\prec$.
%\begin{proposition}\label{prop:maximality-lattices}
	%A linearly compact subspace is a c-lattice if and only if it is maximal among the set of linearly compact sets ordered by $\prec$. 
%\end{proposition}
%\begin{proof}
	%\textcolor{red}{this one needs some thinking}
%\end{proof}
%not necessary
\begin{proposition}\label{prop:lattices-are-basis}
	If $V$ admits a c-lattice, then the set of c-lattices constitutes a base of zero of mutually commensurable vector subspaces.
\end{proposition}
\begin{proof}
	If $L$ and $L'$ are two c-lattices in $V$ then $L \prec L'$ and $L' \prec L$ because both are open; therefore, all c-lattices are commensurable. Moreover, if $U$ is any open vector subspace and $L$ is a c-lattice we claim that $L \cap U$ is a c-lattice. Indeed, let $U'$ be any open vector subspace, then $L\cap U \prec L\prec U'$. In addition, since $L$ and $U$ are open, $L \cap U$ is open. Thus $L \cap U \subseteq U$ is a c-lattice, this proves the statement.
\end{proof}
We're now ready to introduce the definition of a Tate space.
\begin{definition}\label{def:tate-vector-space}
	A \textbf{Tate space} $V$ is a complete linearly topologized vector space that admits a c-lattice. By the previous proposition and the observation in \cref{def:completion} we get
	\[
		V \cong \varprojlim_{L \in \mathscr{U}} V/L
	\]
	where $\mathscr{U}$ runs through all c-lattices of $V$.
\end{definition}
\begin{example}\label{ex:tate-spaces}
We give some examples of Tate spaces.
\begin{enumerate}[label = (\alph*)]
	\item Any vector space endowed with the discrete topology is a Tate space.
	\item If $\{V_{\alpha}\}_{\alpha}$ is any pro-system of finite dimensional vector spaces (thus, each one endowed with the discrete topology by \cref{prop:finite_dimensional_linear_topologies}), let $V$ be their inverse limit endowed with the inverse limit topology. We claim that this is a linearly compact space. Indeed, if we realize $V$ as a subspace of the product $\prod_{\alpha} V_{\alpha}$, then basic open vector subspaces are just restriction of finite coordinates. Hence, the quotient of $V$ by any basic open vector subspace is a finite product of $V_{\alpha}$, since all $V_{\alpha}$ are finite dimensional we conclude that $V$ is linearly compact and therefore a Tate space.
	\item Let $V = k\left((t)\right)$ with the topology generated by letting $t^{n}k\left[[t]\right]$ for $n \in \Z$ be a system of neighborhoods of zero. Then, $V = k\left[[t]\right] \oplus t k[t^{-1}]$ where $k\left[[t]\right]$ is the completion of $k[x]$ in the $\left\langle x\right\rangle$-adic topology, hence by the previous item linearly compact and, since it is open is a c-lattice. By the argument given in \cref{prop:c-lattice-iff-d-lattice} $t k[t^{-1}]$ is a d-lattice. Therefore, $V$ is a Tate space that is not linearly compact nor discrete.
	
	\end{enumerate}

\end{example}
\subsection*{Duality}
If $V$ is a Tate space we consider the following topology on the dual space $V^{*}$ (where by dual space we mean topological dual). Open vector subspaces are given by
\[
	L^{\perp} = \{\phi\in E^{*} \colon \phi\lvert_{L} = 0\}
\]
where $L$ is a linearly compact subspace. Equivalently, one can define open vector subspaces in $E^{*}$ to be $D^{*}$ where $D$ a direct complement of a linearly compact vector subspace $L$ in $E$ (in this case $D^{*} \hookrightarrow E^{*}$ using the decomposition $L\oplus D$).  \\
First, we prove that the word \emph{dually} in \cref{def:linear_compactness} actually makes sense. 

\begin{lemma}\label{lemm:duality-d-lattice-c-lattice}
	Duality interchanges linearly compact with discrete spaces and vice-versa. 
\end{lemma}
\begin{proof}
	If $L$ is a linearly compact vector space, then $L^{\perp}$ is open in $L^{*}$, thus $L^{*}$ is discrete. If $D$ is discrete, then $D \cong k^{\oplus \Lambda}$ for some $\Lambda$ and endowing $k^{\oplus \Lambda}$ with the discrete topology the previous isomorphism is a homeomorphism too. Moreover, since $D$ is discrete every linear functional is continuous. Using \cref{rem:limits-and-colimits-in-lintop-category} and the well known identity (where maps are isomorphisms in $\mathsf{LinTop}_{k}$)
	\[
		(k^{\oplus \Lambda})^{*} = \Hom_{k}(k^{\oplus \Lambda}, k) \cong \prod_{\Lambda} \Hom_{k}(k, k) \cong \prod_{\Lambda} k
	\]
	we get the desired result by Tychonov's theorem in \cref{prop:linear_compactness_properties}. 
\end{proof}
\begin{remark}\label{rem:dual-of-discrete-is-complete}
	A closer look in the proof of the previous lemma indicates that the dual space of a discrete space is always complete.
\end{remark}
\begin{proposition}\label{prop:dual-space-is-tate}
	If $V$ is a Tate space then $V^{*}$ with the topology previously introduced is also a Tate space.
\end{proposition}
\begin{proof}
	If we decompose $V = L \oplus D$ where $L$ is a c-lattice and $D$ a d-lattice then $V^{*} \cong L^{*} \oplus D^{*}$ and by \cref{lemm:duality-d-lattice-c-lattice} $L^{*}$ is discrete and $D^{*}$ is linearly compact. Observe that $D^{*}$ is open in $V^{*}$ since it is the kernel of the projection $V^{*} \to V^{*}/L^{\perp}$ and $V^{*}/L^{\perp}$ is discrete by the description of our topology in the dual $V^{*}$. Since $L^{*}$ is discrete, then it is complete. Moreover, by the previous remark, $D^{*}$ is complete, hence $V^{*}$ is complete too.
\end{proof}

We're ready to prove the analog of Pontryagin's duality for Tate spaces.
\begin{theorem}\label{thm:self-duality}
	For a Tate space $V$ the canonical map $V \to V^{**}$ is an isomorphism.
\end{theorem}
\begin{proof}
	It is enough to prove it for complete linearly compact spaces and discrete spaces, as every Tate space can be decomposed into a direct sum of a c-lattice and a d-lattice. First, we do it for discrete spaces. Suppose $D$ is a discrete vector space. Then, the canonical map
	\[
		\operatorname{ev}\colon D \to D^{**}
	\]
	is open and continuous because $D$ and $D^{**}$ are both discrete by \cref{lemm:duality-d-lattice-c-lattice}. Moreover, it is injective, because for every nonzero $v \in D$ there exists a linear continuous functional $\phi\in D^{*}$ such that $\phi(v)\neq 0$. Finally, we prove surjectivity. Let $\psi \in D^{**}$. Since $\ker \psi$ is open it contains a basic open vector subspace $A^{\perp}$ such that $A \subseteq D$ is a linearly compact subspace. Therefore, since $D^{*}$ is linearly compact it follows that $D^{*} \sim A^{\perp}$, that is, the quotient $D^{*}/A^{\perp}$ is finite dimensional. Recall that the inclusion $\iota\colon A \to D$ induces an isomorphism $D^{*}/A^{\perp} \to A^{*}$ which is a homeomorphism since both spaces are discrete. We can factor $\psi$ so that the following diagram commutes
	\[
	\begin{tikzcd}
		D^{*} \arrow[r, "\psi"] \arrow[d] & k \\
		D^{*}/A^{\perp} \arrow[ru, dashed, "\tilde{\psi}"] \arrow[d, swap, "\cong"] & \\
		A^{*} \arrow[ruu, dashed, swap, bend right, "\overline{\psi}"]
	\end{tikzcd}
	\]
	However, $A^{*}$ is finite dimensional, therefore, there exists $a \in A$ such that $\overline{\psi} = \operatorname{ev}_{a}$ as maps from $A^{*}\to k$. Moreover, since $A^{\perp} \subseteq \ker\psi$ we conclude that $\psi = \operatorname{ev}_{a}$ as maps $D^{*} \to k$. This implies surjectivity. Thus $D \to D^{**}$ is an isomorphism of topological vector spaces. \\

	Now, suppose $L$ is a complete linearly compact space. We check first that the map 
	\[
		\operatorname{ev}\colon L \to L^{**}
	\]
	is continuous. Let $A^{\perp}$ be an open vector subspace in $L^{**}$ where $A \subseteq L^{*}$ is a linearly compact subspace. By \cref{lemm:duality-d-lattice-c-lattice} $L^{*}$ is discrete, hence $A$ is finite dimensional. Suppose that $A = \operatorname{span}(\phi_{1},\ldots,\phi_{n})$ for some $\phi_{1},\ldots,\phi_{n} \in A$. Then, $\operatorname{ev}^{-1}(A^{\perp}) = \ker \phi_{1} \cap \ldots \cap \ker \phi_{n}$ which is open in $L$. Now, we check that $\operatorname{ev}$ is injective. Let $v \in L$ be a nonzero vector. Choose a decomposition of $L = U \oplus F$ where $U$ is open and $F$ is finite dimensional containing $v$ (this can be done because $L$ is separated and linearly compact). Let $\phi$ be a linear functional such that restricted to $U$ is zero and $\phi(v) \neq 0$. Since $U$ is open and $F$ discrete such $\phi$ exists and it is continuous. This implies injectivity of $\operatorname{ev}$.  Now we check that $\operatorname{ev}$ is surjective. Let $\mathscr{U}$ is an open local base of vector subspaces. Let $\psi\colon L^{*} \to k$ be a continuous linear functional. By pulling back $\pi_{U}\colon L \to L/U$ we get an injection $\pi_{U}^{*}\colon(L/U)^{*} \hookrightarrow L^{*}$ for every $U \in \mathscr{U}$. Since $L$ is linearly compact, then $L/U$ is finite dimensional, thus, there exists $v_{U}\in L$ such that $\psi \circ \pi_{U}^{*} = \operatorname{ev}_{x_{U}}$ where $\operatorname{ev}\colon L/U \to (L/U)^{**}$. In particular, observe that if $U,U' \in \mathscr{U}$ and $U' \subseteq U$ we get an induced surjection $(L/U)^{*} \hookrightarrow (L/U')^{*}$ such that the following diagram
	\[
	\begin{tikzcd}
		L^{*} \arrow[rr, "\psi"] & & k \\
		(L/U')^{*} \arrow[u, hook] \arrow[urr, swap, "\operatorname{ev}_{x_{U'}}"] & & \\
		(L/U)^{*} \arrow[u, two heads] \arrow[uurr, swap, bend right, "\operatorname{ev}_{x_{U}}"] \arrow[uu, bend left = 70, hook]& & 
	\end{tikzcd}
	\]
	commutes. Observe that this implies that $(v_{U})_{U\in \mathscr{U}}$ is a Cauchy net. Indeed, let $U \in \mathscr{U}$ and $W = U$ as in \cref{def:cauchy-nets}. Let $U_{1}, U_{2} \subseteq U$ and $U_{1}, U_{2}\in\mathscr{U}$. Notice that commutativity of the following diagram 
	\[
		\begin{tikzcd}
			& (L/U_{1})^{*}\ar[dr, swap, hook] \ar[rrd, "\operatorname{ev}_{x_{U_{1}}}", bend left, swap] & & \\
			(L/U)^{*} \ar[rrr, bend left = 100, "\operatorname{ev}_{x_{U}}"]\ar[rrr, swap, bend right= 100, "\operatorname{ev}_{x_{U}}"]  \ar[ur, two heads] \ar[dr, two heads] \ar[rr, hook] & & L^{*} \ar[r, "\psi"] & k \\
			& (L/U_{2})^{*}\ar[ur, hook] \ar[rru, "\operatorname{ev}_{x_{U_{2}}}", bend right] & & 
		\end{tikzcd}
	\]

	implies that $(x_{U})_{U\in\mathscr{U}}$ is Cauchy, since $\operatorname{ev}_{x_{U_{1}}} = \operatorname{ev}_{x_{U_{2}}}$ coincide in $(L/U)^{*}$. By completeness there exists $x \in L$ limit of $(x_{U})_{U\in \mathscr{U}}$. We claim that $\psi = \operatorname{ev}_{v}$. Let $\phi \in L^{*}$. Then, $\ker\phi$ is open and there exists $U\in\mathscr{U}$ such that $U \subseteq \ker\phi$ and by linear compactness $U \sim L$. Hence, if we factor $\phi$ as follows
	\[
	\begin{tikzcd}
		L \arrow[r, "\phi"] \arrow[d, swap, "\pi_{U}"] & k \\
		L/U \arrow[ur, swap, "\phi_{U}"] &
	\end{tikzcd}
	\]
	 since $L/U$ is discrete we conclude that $\phi_{U}$ is continuous. In other words, the image of $\phi_{U}$ under the inclusion $(L/U)^{*} \hookrightarrow L^{*}$ is $\phi$. Thus, $\psi(\phi) = \phi_{U}(x_{U} + U) = \phi(x_{U})$. We claim that $\psi(\phi) = \phi(x)$. Indeed, convergence of $(x_{U})$ implies that there exists a $W \in \mathscr{U}$ such that $W \subseteq U$ and $x - x_{W} \in U$. Thus, $\psi(\phi) = \phi_{W}(x_{W} + W) = \phi(x_{W}) = \phi(x)$, since $U \subseteq \ker\phi$. This implies surjectivity of $\operatorname{ev}\colon L \to L^{**}$. To conclude, we prove that $\operatorname{ev}$ is open. Let $U$ be any open vector subspace in $L$, thus $L = U \oplus F$ for some $F$ finite dimensional. We claim that $\operatorname{ev}(U) = (F^{*})^{\perp}$. First, the inclusion $\operatorname{ev}(U) \subseteq (F^{*})^{\perp}$ is immediate. Let $\psi \in (F^{*})^{\perp}$. Let $x \in L$ such that $\operatorname{ev}_{x} = \psi$. Write $x = u + f$ where $u \in U$ and $f \in F$. Hence, $\operatorname{ev}_{x} = \operatorname{ev}_{u} + \operatorname{ev}_{f}$. Since $\operatorname{ev}$ is injective, it follows that there exists some $\phi\in F^{*}$ such that $\phi(f) \neq 0$ if $f$ is nonzero. Therefore, $f = 0$ and $\psi \in \operatorname{ev}(U)$. This concludes the proof.
\end{proof}
\begin{remark}\label{rem:completeness-is-necessary-for-sel-duality}
	Observe that completeness cannot be dropped in the definition of a Tate space while preserving duality. Indeed, if $V$ is linearly compact but not complete its dual is discrete by \cref{lemm:duality-d-lattice-c-lattice} and by \cref{rem:dual-of-discrete-is-complete} its double dual is complete, hence $V \to V^{**}$ cannot be an isomorphism. In fact, during the proof of the duality theorem we checked that $V^{**}$ is the completion of $V$. 
\end{remark}
\begin{remark}\label{rem:lef-vs-beilinson}
	We now discuss definitions of linearly compact spaces as given in \cite{Lefschetz-Alg-Top} and \cite{Chiral}. In \cite{Lefschetz-Alg-Top} it is proven that a linearly compact vector space is immediately complete while our definition does not imply it necessarily. However, when $V$ is a complete space both definitions coincide. Indeed, Lefschetz proves that every linearly compact space is the dual of a discrete space which coincides with our definition of a complete linearly compact vector space by \cref{thm:self-duality}. Therefore, his definition of a \textbf{locally linearly compact vector space} (that is, a linearly topologized vector space admitting an open linearly compact vector subspace) coincides with our notion of Tate space.
\end{remark}
\subsection*{Morphisms}
A \textbf{morphism} of Tate spaces is a continuous linear homomorphism between Tate spaces.
\begin{definition}\label{def:linearly-compact-and-discrete-morphisms}
	A morphism $f\colon V\to W$ of Tate spaces is said to be \textbf{linearly compact} if the closure of $f(V)$ is linearly compact in $W$. Dually, it is \textbf{discrete} if $\ker f$ is open in $V$. 
\end{definition}
First, we check the duality natural property for morphisms of Tate spaces.
\begin{proposition}\label{prop:duality-discrete-compact-maps}
	A morphism $f\colon V\to W$ of Tate spaces is linearly compact if and only if $f^{*}$ is discrete.
\end{proposition}
\begin{proof}
	Suppose $f^{*}$ is linearly compact, then $\ker f^{*} = f(V)^{\perp}$. However, if $\phi\in W^{*}$ and $\phi(f(V)) = 0$ then $\phi(\overline{f(V)}) = 0$ by continuity of $\phi$. Therefore, $\ker f^{*} = \overline{f(V)}^{\perp}$ which is open because $\overline{f(V)}$ is linearly compact. Now, suppose $f^{*}$ is discrete. Thus, $\ker f^{*}$ contains a basic open subspace $A^{\perp}$ such that $A$ is linearly compact in $W$. Therefore, $f(V)\subseteq A$ then $\overline{f(V)} \subseteq A$ and by item (c) in \cref{prop:linear_compactness_properties} $\overline{f(V)}$ is linearly compact.
\end{proof}
Discrete and linearly compact operators form a 2-sided ideal in $\Hom$; that is
\begin{proposition}\label{prop:compact-and-discrete-2-sided-ideal}
	If $f$ is a linearly compact operator (respectively discrete) then its composition with an arbitrary morphism of Tate spaces is also linearly compact (respectively discrete). 
\end{proposition}
\begin{proof}
	Let $A \xrightarrow{f} B \xrightarrow{g} C \xrightarrow{h} D$ be morphisms of Tate spaces such that $g$ is linearly compact. Then, $\overline{g\circ f(A)} \subseteq \overline{g(B)}$ which is linearly compact, thus $\overline{g\circ f(A)}$ is linearly compact too. On the other hand, note that $h(\overline{g(B)}) \subseteq \overline{h\circ g(B)}$; therefore $\overline{h(\overline{g(B)})} = \overline{h\circ g(B)}$. However, $\overline{g(B)}$ is linearly compact and by item (b) in \cref{prop:linear_compactness_properties} $\overline{h(\overline{g(B)})}$ is linearly compact. In addition, the statement for discrete operators follows from the previous proposition.
\end{proof}
\begin{remark}\label{rem:discrete-composition-compact}
If $f$ is a compact operator and $g$ is a discrete operator, then $gf$ is \textbf{finite}; that is, $\dim gf(V) < \infty$.  
\end{remark}
\begin{proof}
	We have $\overline{f(V)} \prec \ker g$, therefore, $\overline{f(V)}/(\overline{f(V)} \cap \ker g)$ is finite dimensional. We have a surjection
	\[
		\frac{\overline{f(V)}}{\overline{f(V)}\cap \ker g} \to gf(V)
	\]
	which implies that $gf$ is finite.
\end{proof}
\begin{definition}\label{def:2-sided-ideals-in-hom}
	Let $V$ and $W$ be Tate spaces. \linebreak We denote $\Hom_{+}(V,W)$ to be the set of linearly compact morphisms and $\Hom_{-}(V,W)$ the set of discrete ones. Also, set $\Hom_{0}(V,W)$ to be $\Hom_{+}(V,W) \cap \Hom_{-}(V,W)$.
\end{definition}
\begin{proposition}\label{prop:discrete-compact-operators-present-the-whole-space}
	The sets $\Hom_{-}(V,W), \Hom_{+}(V,W)$ and \linebreak $\Hom_{0}(V,W)$ are vector subspaces of $\Hom(V,W)$. Moreover,
	\[
		\Hom_{-}(V,W) + \Hom_{+}(V,W) = \Hom(V,W).
	\]
\end{proposition}
\begin{proof}
	Let $L$ be a c-lattice in $V$ and consider $\pi\colon V \to L$ be a continuous linear projection. Then $\pi$ realized as an element of $\End(V)$ satisfies $\pi \in\End_{+}(V)$ and $1 -\pi\in\End_{-}(V)$. Hence, by \cref{prop:compact-and-discrete-2-sided-ideal} for every $f\in \Hom(V,W)$ $f\circ \pi$ and $f\circ (1 - \pi)$ are linearly compact and discrete respectively. It follows
	\[
		\Hom_{-}(V,W) + \Hom_{+}(V,W) = \Hom(V,W).
	\]
	The other statements are immediate.
\end{proof}
\textcolor{red}{I'll include further theory if necessary.}
